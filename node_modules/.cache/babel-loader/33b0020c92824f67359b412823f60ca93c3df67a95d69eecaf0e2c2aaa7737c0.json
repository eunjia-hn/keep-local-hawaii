{"ast":null,"code":"import _objectSpread from\"/Users/eunji/Documents/UW/7_AUTUMN_2022/INFO340/project-fatimal13 120922/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import _ from'lodash';//import external library!\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Filter(props){return/*#__PURE__*/_jsx(\"div\",{className:\"border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-4 my-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"filter_title\",children:\"REFIND BY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(SortByNav,{cardData:props.cardData,sortByCallback:props.sortByCallback}),/*#__PURE__*/_jsx(TagsFilterNav,{cardData:props.cardData,tags:props.tags,applyFilterCallback:props.applyFilterCallback})]})]})});}//        SortBy Section        //\nfunction SortByNav(props){// props\nconst cardData=props.cardData;const sortByCallbackFunction=props.sortByCallback;let[sortByCriteria,setSortByCriteria]=useState(null);let[isAscending,setIsAscending]=useState(null);const handleClick=event=>{let whichButton=event.currentTarget.name;let isAscendingBoolean=null;console.log(whichButton);console.log(sortByCriteria);if(whichButton!==sortByCriteria){isAscendingBoolean=true;setSortByCriteria(whichButton);setIsAscending(isAscendingBoolean);}else if(whichButton===sortByCriteria){if(isAscending===false){isAscendingBoolean=null;whichButton=null;setIsAscending(isAscendingBoolean);setSortByCriteria(whichButton);}else{isAscendingBoolean=false;setIsAscending(isAscendingBoolean);}}sortByCallbackFunction(whichButton,isAscendingBoolean);console.log(whichButton,isAscendingBoolean);console.log(sortByCriteria,isAscending);};let sortedArray=_.sortBy(cardData,[sortByCriteria]);console.log('sortedArray',sortedArray);if(sortByCriteria!=null&&isAscending===false){_.reverse(sortedArray);};return/*#__PURE__*/_jsxs(\"div\",{className:\"order_by\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Order by\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled list\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Price \",/*#__PURE__*/_jsx(\"span\",{className:\"moneySign\",children:\"$\"}),/*#__PURE__*/_jsx(SortButton,{name:\"price\",onClick:handleClick,active:sortByCriteria==='price',ascending:sortByCriteria==='price'&&isAscending===true})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Rating \\u2B50\",/*#__PURE__*/_jsx(SortButton,{name:\"rating\",onClick:handleClick,active:sortByCriteria==='rating',ascending:sortByCriteria==='rating'&&isAscending===true})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Title\",/*#__PURE__*/_jsx(SortButton,{name:\"title\",onClick:handleClick,active:sortByCriteria==='title',ascending:sortByCriteria==='title'&&isAscending===true})]})]})]});}function SortButton(props){let iconClasses=\"\";if(props.active){iconClasses+=\" active\";}if(props.ascending){iconClasses+=\" flip\";};return/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-sort\",name:props.name,onClick:props.onClick,children:/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\"+iconClasses,\"aria-label\":\"sort by \".concat(props.name),children:\"sort\"})});}//        Filter Section        //\nfunction TagsFilterNav(props){// unique arrays\nconst uniqueTags=props.tags;const uniqueTagsObj=Object.assign(...uniqueTags.map(k=>({[k]:false})));// state\nconst[checkedItems,setCheckedItems]=useState(uniqueTagsObj);const handleCheckbox=event=>{setCheckedItems(_objectSpread(_objectSpread({},checkedItems),{},{[event.target.value]:event.target.checked}));};const handleClick=event=>{event.preventDefault();const identifiers=Object.keys(checkedItems);const checked=identifiers.filter(function(id){return checkedItems[id];});console.log(checked);props.applyFilterCallback(checked);};const handleClear=event=>{props.applyFilterCallback(uniqueTags);setCheckedItems(uniqueTagsObj);};const liElemTagsArray=uniqueTags.map(tag=>{const element=/*#__PURE__*/_jsx(\"li\",{className:\"py-1 ps-1\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleCheckbox,type:\"checkbox\",checked:checkedItems[tag],value:tag}),/*#__PURE__*/_jsx(\"span\",{className:\"tags\",children:tag})]})},tag);return element;});return/*#__PURE__*/_jsxs(\"div\",{className:\"filter_by\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Filter by tags\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:liElemTagsArray}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter_buttons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"f_button mb-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleClick,children:\"Apply Filter\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"f_button mt-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn border border-dark\",onClick:handleClear,children:\"Clear\"})})]})]});}","map":{"version":3,"names":["React","useState","_","jsx","_jsx","jsxs","_jsxs","Filter","props","className","children","SortByNav","cardData","sortByCallback","TagsFilterNav","tags","applyFilterCallback","sortByCallbackFunction","sortByCriteria","setSortByCriteria","isAscending","setIsAscending","handleClick","event","whichButton","currentTarget","name","isAscendingBoolean","console","log","sortedArray","sortBy","reverse","SortButton","onClick","active","ascending","iconClasses","concat","uniqueTags","uniqueTagsObj","Object","assign","map","k","checkedItems","setCheckedItems","handleCheckbox","_objectSpread","target","value","checked","preventDefault","identifiers","keys","filter","id","handleClear","liElemTagsArray","tag","element","onChange","type"],"sources":["/Users/eunji/Documents/UW/7_AUTUMN_2022/INFO340/project-fatimal13 120922/src/components/Filter.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport _ from 'lodash'; //import external library!\n\n\nexport function Filter(props) {\n\n  return (\n    <div className=\"border\">\n      <div className=\"mx-4 my-2\">\n        <p className=\"filter_title\">REFIND BY</p>\n        <div className=\"filters\">\n          <SortByNav\n            cardData={props.cardData}\n            sortByCallback={props.sortByCallback}\n          />\n          <TagsFilterNav \n            cardData={props.cardData}\n            tags={props.tags}\n            applyFilterCallback={props.applyFilterCallback}\n          />\n      </div>\n      </div>\n    </div>\n  )\n}\n\n\n\n\n//        SortBy Section        //\n\nfunction SortByNav(props) {\n  // props\n  const cardData = props.cardData;\n  const sortByCallbackFunction = props.sortByCallback;\n\n  let [sortByCriteria, setSortByCriteria] = useState(null);\n  let [isAscending, setIsAscending] = useState(null);\n\n  const handleClick = (event) => {\n    let whichButton = event.currentTarget.name;\n    let isAscendingBoolean = null;\n\n    console.log(whichButton)\n    console.log(sortByCriteria)\n    if (whichButton !== sortByCriteria) {\n      isAscendingBoolean = true;\n      setSortByCriteria(whichButton);\n      setIsAscending(isAscendingBoolean);\n    } else if (whichButton === sortByCriteria) {\n      if (isAscending === false) {\n        isAscendingBoolean = null;\n        whichButton = null;\n        setIsAscending(isAscendingBoolean);\n        setSortByCriteria(whichButton);\n      } else {\n        isAscendingBoolean = false;\n        setIsAscending(isAscendingBoolean);\n      }\n    }\n    sortByCallbackFunction(whichButton, isAscendingBoolean);\n    console.log(whichButton, isAscendingBoolean)\n    console.log(sortByCriteria, isAscending)\n  }\n\n  let sortedArray = _.sortBy(cardData, [sortByCriteria]);\n  console.log('sortedArray', sortedArray);\n  if (sortByCriteria != null && isAscending === false) {\n    _.reverse(sortedArray);\n  };\n\n  return (\n    <div className=\"order_by\">\n      <p>Order by</p>\n      <ul className=\"list-unstyled list\">\n        <li>Price <span className=\"moneySign\">$</span>\n          <SortButton name=\"price\" onClick={handleClick} active={sortByCriteria === 'price'} ascending={sortByCriteria === 'price' && isAscending === true} />\n        </li>\n        <li>Rating &#11088;\n          <SortButton name=\"rating\" onClick={handleClick} active={sortByCriteria === 'rating'} ascending={sortByCriteria === 'rating' && isAscending === true} />\n        </li>\n        <li>Title\n          <SortButton name=\"title\" onClick={handleClick} active={sortByCriteria === 'title'} ascending={sortByCriteria === 'title' && isAscending === true} />\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nfunction SortButton(props) {\n  let iconClasses = \"\"\n  if (props.active) { iconClasses += ` active` }\n  if (props.ascending) { iconClasses += ` flip` };\n  return (\n    <button className=\"btn btn-sm btn-sort\" name={props.name} onClick={props.onClick}>\n      <span className={\"material-icons\" + iconClasses} aria-label={`sort by ${props.name}`}>sort</span>\n    </button>\n  );\n}\n\n\n\n\n//        Filter Section        //\n\nfunction TagsFilterNav(props) {\n  // unique arrays\n  const uniqueTags = props.tags;\n  const uniqueTagsObj = Object.assign(...uniqueTags.map(k => ({ [k]: false })));\n  \n  // state\n  const [checkedItems, setCheckedItems] = useState(uniqueTagsObj);\n\n  const handleCheckbox = (event) => {\n    setCheckedItems({...checkedItems, [event.target.value] : event.target.checked})\n  }\n\n  const handleClick = (event) => {\n    event.preventDefault();\n    const identifiers = Object.keys(checkedItems);\n    const checked = identifiers.filter(function(id) {\n      return checkedItems[id]\n    })\n    console.log(checked);\n    props.applyFilterCallback(checked);\n  }\n\n  const handleClear = (event) => {\n    props.applyFilterCallback(uniqueTags);\n    setCheckedItems(uniqueTagsObj);\n  }\n\n  const liElemTagsArray = uniqueTags.map((tag) => {\n    const element = <li className=\"py-1 ps-1\" key={tag}>\n      <label>\n        <input\n          onChange={handleCheckbox}\n          type=\"checkbox\"\n          checked={checkedItems[tag]}\n          value={tag} />\n          <span className=\"tags\">{tag}</span>\n      </label>\n    </li>;\n    return element;\n  })\n\n  return(\n    <div className=\"filter_by\">\n      <p>Filter by tags</p>\n      <ul className=\"list-unstyled\">\n        {liElemTagsArray}\n      </ul>\n      <div className=\"filter_buttons\">\n        <div className=\"f_button mb-3\">\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={handleClick}>Apply Filter</button>\n        </div>\n        <div className=\"f_button mt-3\">\n          <button type=\"submit\" className=\"btn border border-dark\" onClick={handleClear}>Clear</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}