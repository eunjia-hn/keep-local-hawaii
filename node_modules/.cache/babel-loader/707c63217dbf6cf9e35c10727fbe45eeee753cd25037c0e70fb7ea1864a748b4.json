{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { db } from '../firebase';\nimport { ref, onValue } from 'firebase/database';\nexport function useFirebaseBusinesses() {\n  _s();\n  const [businesses, setBusinesses] = useState([]);\n  useEffect(() => {\n    const businessesRef = ref(db, 'businesses');\n    const unsubscribe = onValue(businessesRef, snapshot => {\n      const data = snapshot.val();\n      if (data) {\n        // Convert object to array with id\n        const arr = Object.entries(data).map(([id, value]) => ({\n          id,\n          ...value\n        }));\n        setBusinesses(arr);\n      } else {\n        setBusinesses([]);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  return businesses;\n}\n_s(useFirebaseBusinesses, \"8jN+JwKIFl3oeK4xW7WN3lj22mU=\");","map":{"version":3,"names":["useEffect","useState","db","ref","onValue","useFirebaseBusinesses","_s","businesses","setBusinesses","businessesRef","unsubscribe","snapshot","data","val","arr","Object","entries","map","id","value"],"sources":["/Users/eunji/Documents/UW/7_AUTUMN_2022/INFO340/project-fatimal13 120922/src/components/useFirebaseBusinesses.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { db } from '../firebase';\nimport { ref, onValue } from 'firebase/database';\n\nexport function useFirebaseBusinesses() {\n  const [businesses, setBusinesses] = useState([]);\n\n  useEffect(() => {\n    const businessesRef = ref(db, 'businesses');\n    const unsubscribe = onValue(businessesRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        // Convert object to array with id\n        const arr = Object.entries(data).map(([id, value]) => ({ id, ...value }));\n        setBusinesses(arr);\n      } else {\n        setBusinesses([]);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  return businesses;\n} "],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,GAAG,EAAEC,OAAO,QAAQ,mBAAmB;AAEhD,OAAO,SAASC,qBAAqBA,CAAA,EAAG;EAAAC,EAAA;EACtC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACd,MAAMS,aAAa,GAAGN,GAAG,CAACD,EAAE,EAAE,YAAY,CAAC;IAC3C,MAAMQ,WAAW,GAAGN,OAAO,CAACK,aAAa,EAAGE,QAAQ,IAAK;MACvD,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC3B,IAAID,IAAI,EAAE;QACR;QACA,MAAME,GAAG,GAAGC,MAAM,CAACC,OAAO,CAACJ,IAAI,CAAC,CAACK,GAAG,CAAC,CAAC,CAACC,EAAE,EAAEC,KAAK,CAAC,MAAM;UAAED,EAAE;UAAE,GAAGC;QAAM,CAAC,CAAC,CAAC;QACzEX,aAAa,CAACM,GAAG,CAAC;MACpB,CAAC,MAAM;QACLN,aAAa,CAAC,EAAE,CAAC;MACnB;IACF,CAAC,CAAC;IACF,OAAO,MAAME,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOH,UAAU;AACnB;AAACD,EAAA,CAnBeD,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}